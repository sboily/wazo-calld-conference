paths:
  /conferences:
    get:
      summary: Get conferences
      description: '**Required ACL:** `ctid-ng.conferences.read`'
      tags:
      - conferences
      responses:
        '200':
          description: The list of conferences
          schema:
            $ref: '#/definitions/ConferenceList'
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
  /conferences/{conference_id}:
    get:
      summary: Get conference detail
      description: '**Required ACL:** `ctid-ng.conferences.{conference_id}.read`'
      parameters:
        - $ref: '#/parameters/ConferenceID'
      tags:
      - conferences
      responses:
        '200':
          description: The detail of a conference
          schema:
            $ref: '#/definitions/Conference'
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
  /conferences/{conference_id}/record:
    post:
      summary: Start a recording of conference
      description: '**Required ACL:** `ctid-ng.conferences.{conference_id}.record.create`'
      parameters:
        - $ref: '#/parameters/ConferenceID'
      tags:
      - conferences
      responses:
        '201':
          description: Recording of conference has been started
          schema:
            $ref: '#/definitions/Conference'
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
    delete:
      summary: Stop the recording of conference
      description: '**Required ACL:** `ctid-ng.conferences.{conference_id}.record.delete`'
      parameters:
        - $ref: '#/parameters/ConferenceID'
      tags:
      - conferences
      responses:
        '204':
          description: Recording of conference has been stopped
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
  /conferences/{conference_id}/{channel}/mute:
    put:
      summary: Mute a conference participant
      description: '**Required ACL:** `ctid-ng.conferences.{conference_id}.mute.update`'
      parameters:
        - $ref: '#/parameters/ConferenceID'
        - $ref: '#/parameters/ConferenceParticipantsChannel'
      tags:
      - conferences
      responses:
        '204':
          description: Participant has been muted
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
  /conferences/{conference_id}/{channel}/unmute:
    put:
      summary: Unmute a conference participant
      description: '**Required ACL:** `ctid-ng.conferences.{conference_id}.unmute.update`'
      parameters:
        - $ref: '#/parameters/ConferenceID'
        - $ref: '#/parameters/ConferenceParticipantsChannel'
      tags:
      - conferences
      responses:
        '204':
          description: Participant has been unmuted
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
  /conferences/{conference_id}/{channel}/kick:
    put:
      summary: Kick a conference participant
      description: '**Required ACL:** `ctid-ng.conferences.{conference_id}.kick.update`'
      parameters:
        - $ref: '#/parameters/ConferenceID'
        - $ref: '#/parameters/ConferenceParticipantsChannel'
      tags:
      - conferences
      responses:
        '204':
          description: Participant has been kicked
        '503':
          $ref: '#/responses/AnotherServiceUnavailable'
definitions:
  Conference:
    type: object
    properties:
      id:
        description: Unique identifier of the conference
        type: string
      locked:
        description: Is conference is locked
        type: string
      marked:
        description: Is conference is marked
        type: string
      muted:
        description: Is conference is muted
        type: string
      parties:
        description: Number of participants
        type: string
  ConferenceList:
    type: object
    properties:
      items:
        $ref: '#/definitions/Conference'
parameters:
  ConferenceID:
    name: conference_id
    in: path
    description: ID of the conference
    required: true
    type: string
  ConferenceParticipantsChannel:
    name: channel
    in: path
    description: Channel of the conference participant
    required: true
    type: string
